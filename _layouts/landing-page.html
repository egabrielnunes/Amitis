<!DOCTYPE html>

<html>

  {% include /head.html %}

	<body id="top">
       
        {% include /header.html %}

        <!-- Banner -->
        <section id="banner">
            <div class="inner">
                <br><br>
                <h2>Enactus UFAL</h2>
                <p>As palavras que movem o time Enactus UFAL são <b>Acreditar e Transformar.</b> <br> E acreditar na transformação é o que faz de nós um time: <b>o time Enactus UFAL!</b></p>
                <br>
            </div>  
        </section>
       
        {{ content }}

        <!-- Facebook Widget on footer -->
        <div id="fb-root"></div>
        <script>
            (function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.11';
                fjs.parentNode.insertBefore(js, fjs);
            }(document, 'script', 'facebook-jssdk'));
        </script>
        <!-- ### -->

        <!-- Contadores: projetos, membros, horas trabalhadas -->
        <script type="text/javascript">
            $.fn.jQuerySimpleCounter = function( options ) {
                var settings = $.extend({
                    start:  0,
                    end:    100,
                    easing: 'swing',
                    duration: 400,
                    complete: ''
                }, options );

                var thisElement = $(this);

                $({count: settings.start}).animate({count: settings.end}, {
                    duration: settings.duration,
                    easing: settings.easing,
                    step: function() {
                        var mathCount = Math.ceil(this.count);
                        thisElement.text(mathCount);
                    },
                    complete: function() {
                        var mathCount = this.count > settings.maxNumber ? settings.end + '+' : this.count;
                        thisElement.text(mathCount);
                    }
                });
            };

            $('#number1').jQuerySimpleCounter({
              end: 2,
              duration: 3000
            });
            $('#number2').jQuerySimpleCounter({
              end: 31,
              duration: 3000
            });
            $('#number3').jQuerySimpleCounter({
              end: 1865,
              duration: 2000,
              maxNumber: 100
            });
        
        /* ----- #Contadores ------ */



        /* ----- Contato -------*/


        function captchaCode() {
          var Numb1, Numb2, Numb3, Numb4, Code;     
          Numb1 = (Math.ceil(Math.random() * 10)-1).toString();
          Numb2 = (Math.ceil(Math.random() * 10)-1).toString();
          Numb3 = (Math.ceil(Math.random() * 10)-1).toString();
          Numb4 = (Math.ceil(Math.random() * 10)-1).toString();
          
          Code = Numb1 + Numb2 + Numb3 + Numb4;
          $("#captcha span").remove();
          $("#captcha input").remove();
          $("#captcha").append("<span id='code'>" + Code + "</span><input type='button' onclick='captchaCode();'>");
        }

        $(function() {
          captchaCode();
          
          $('#contactForm').submit(function(){
            var captchaVal = $("#code").text();
            var captchaCode = $(".captcha").val();
            if (captchaVal == captchaCode) {
              $(".captcha").css({
                "color" : "#609D29"
              });
            }
            else {
              $(".captcha").css({
                "color" : "#CE3B46"
              });
            }
            
            var emailFilter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,10})+$/;   
            var emailText = $(".email").val();
            if (emailFilter.test(emailText)) {
              $(".email").css({
                "color" : "#609D29"
              });
            }
            else {
              $(".email").css({
                "color" : "#CE3B46"
              });
            }
            
            var nameFilter = /^([a-zA-Z \t]{3,15})+$/;
            var nameText = $(".name").val();
            if (nameFilter.test(nameText)) {
              $(".name").css({
                "color" : "#609D29"
              });
            }
            else {
              $(".name").css({
                "color" : "#CE3B46"
              });
            }
            
            var messageText = $(".message").val().length;
            if (messageText > 50) {
              $(".message").css({
                "color" : "#609D29"
              });
            }
            else {
              $(".message").css({
                "color" : "#CE3B46"
              });
            }
            
            if ((captchaVal !== captchaCode) || (!emailFilter.test(emailText)) || (!nameFilter.test(nameText)) || (messageText < 50)) {
              return false;
            }
            if ((captchaVal == captchaCode) && (emailFilter.test(emailText)) && (nameFilter.test(nameText)) && (messageText > 50)) {
              $("#contactForm").css("display", "none");
              $("#form").append("<h2>Mensagem enviada!</h2>");
              return false;
            }
          });       
        });
        </script>
        
        {% include /footer.html %}

    </body>
</html>